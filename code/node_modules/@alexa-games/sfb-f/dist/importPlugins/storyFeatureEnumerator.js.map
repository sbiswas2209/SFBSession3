{"version":3,"file":"storyFeatureEnumerator.js","sourceRoot":"","sources":["../../importPlugins/storyFeatureEnumerator.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;GAeG;;;AAEH,yDAI4B;AAE5B,6CAAwE;AAExE,MAAa,eAAe;IAIxB,YAAY,KAAe,EAAE,OAAgB;QACzC,IAAI,CAAC,MAAM,GAAG,IAAI,mCAAgB,CAAC;YAC/B,YAAY,EAAE,0BAAO,CAAC,SAAS;YAC/B,KAAK,EAAE,KAAK;YACZ,eAAe,EAAE,wCAAqB,CAAC,UAAU;YACjD,SAAS,EAAE,OAAO;SACrB,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACI,OAAO;QACV,MAAM,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAC1C,IAAI,MAAM,EAAE;YACR,OAAO,IAAI,4BAAe,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;SAC5E;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AAxBD,0CAwBC;AAED,MAAa,uBAAuB;IAIhC,YAAY,KAAe,EAAE,KAAsB,EAAE,IAAa;QAC9D,IAAI,CAAC,MAAM,GAAG,IAAI,mCAAgB,CAAC;YAC/B,YAAY,EAAE,0BAAO,CAAC,SAAS;YAC/B,KAAK,EAAE,KAAK;YACZ,KAAK;YACL,SAAS,EAAE,IAAI;YACf,eAAe,EAAE,wCAAqB,CAAC,cAAc;SACxD,CAAC,CAAC;IACP,CAAC;IAED;;OAEG;IACI,OAAO;QAEV,MAAM,MAAM,GAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE,CAAC;QAE3C,IAAI,MAAM,EAAE;YACR,OAAO,IAAI,oCAAuB,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;SACpF;QAED,OAAO,SAAS,CAAC;IACrB,CAAC;CACJ;AA3BD,0DA2BC","sourcesContent":["/* \n * Copyright 2018 Amazon.com, Inc. and its affiliates. All Rights Reserved.\n *\n * SPDX-License-Identifier: LicenseRef-.amazon.com.-AmznSL-1.0\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *   http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is distributed\n * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\n\nimport { \n    StoryBlockFinder, \n    EndType, \n    BlockStartExpressions\n} from './storyBlockFinder';\nimport { StoryBlockRange } from './storyBlockRange';\nimport { SceneStoryBlock, ScenePropertyStoryBlock } from './storyBlock';\n\nexport class SceneEnumerator {\n  \n    private finder: StoryBlockFinder; \n\n    constructor(lines: string[], sceneId?: string) {\n        this.finder = new StoryBlockFinder({\n            blockEndType: EndType.NextBlock,\n            lines: lines,\n            blockStartMatch: BlockStartExpressions.SceneMatch,\n            blockName: sceneId\n        }); \n    }\n    \n    /**\n     * Returns the next scene. Returns undefined when no more scenes are available.\n     */\n    public getNext(): SceneStoryBlock | undefined {\n        const result = this.finder.getNextBlock();\n        if (result) {\n            return new SceneStoryBlock(result.lines, result.blockName, result.range);\n        }\n\n        return undefined;\n    }\n}\n\nexport class ScenePropertyEnumerator {\n  \n    private finder: StoryBlockFinder; \n\n    constructor(lines: string[], range: StoryBlockRange, type?: string) {\n        this.finder = new StoryBlockFinder({\n            blockEndType: EndType.NextBlock,\n            lines: lines,\n            range,\n            blockName: type,\n            blockStartMatch: BlockStartExpressions.ScenePropMatch\n        }); \n    }\n    \n    /**\n     * Returns the next scene property. Returns undefined when no more are available.\n     */\n    public getNext(): ScenePropertyStoryBlock | undefined {\n\n        const result =  this.finder.getNextBlock();\n\n        if (result) {\n            return new ScenePropertyStoryBlock(result.lines, result.blockName, result.range);\n        }\n\n        return undefined;\n    }\n}\n"]}