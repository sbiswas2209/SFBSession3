{"version":3,"file":"storyBlock.js","sourceRoot":"","sources":["../../importPlugins/storyBlock.ts"],"names":[],"mappings":";AAAA;;;;;;;;;;;;;;;GAeG;;;AAGH,qEAAmE;AAEnE,MAAa,UAAU;IACnB,YACoB,KAAe,EACf,SAAiB,EACjB,KAAsB;QAFtB,UAAK,GAAL,KAAK,CAAU;QACf,cAAS,GAAT,SAAS,CAAQ;QACjB,UAAK,GAAL,KAAK,CAAiB;IAC1C,CAAC;IAED;;OAEG;IACI,OAAO;QACV,IAAI,MAAM,GAAuB,SAAS,CAAC;QAAA,CAAC;QAC5C,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;YAC7D,IAAI,MAAM,EAAE;gBACR,MAAM,IAAI,IAAI,CAAC;aAClB;iBAAM;gBACH,MAAM,GAAG,EAAE,CAAC;aACf;YACD,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;SACtD;QAED,OAAO,MAAM,IAAI,EAAE,CAAC;IACxB,CAAC;CACJ;AAvBD,gCAuBC;AAED,MAAa,eAAgB,SAAQ,UAAU;IAC3C,YACI,KAAe,EACf,SAAiB,EACjB,KAAsB;QAClB,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IACvC,CAAC;IAEM,qBAAqB,CAAC,IAAa;QACtC,OAAO,IAAI,gDAAuB,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IACrE,CAAC;CACJ;AAXD,0CAWC;AAED,MAAa,uBAAwB,SAAQ,UAAU;IACnD,YACI,KAAe,EACf,SAAiB,EACjB,KAAsB;QAClB,KAAK,CAAC,KAAK,EAAE,SAAS,EAAE,KAAK,CAAC,CAAC;IACvC,CAAC;CACJ;AAPD,0DAOC","sourcesContent":["/* \n * Copyright 2018 Amazon.com, Inc. and its affiliates. All Rights Reserved.\n *\n * SPDX-License-Identifier: LicenseRef-.amazon.com.-AmznSL-1.0\n *\n * Licensed under the Amazon Software License (the \"License\").\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *   http://aws.amazon.com/asl/\n *\n * or in the \"license\" file accompanying this file. This file is distributed\n * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\n\nimport { StoryBlockRange } from './storyBlockRange';\nimport { ScenePropertyEnumerator } from './storyFeatureEnumerator';\n\nexport class StoryBlock {\n    constructor(\n        public readonly lines: string[],\n        public readonly blockName: string,\n        public readonly range: StoryBlockRange) {\n    }\n\n    /**\n     * Assembles the whole block into a single multi-line string.\n     */\n    public getText(): string {\n        let result: string | undefined = undefined;;\n        for (let i = this.range.start.row; i <= this.range.end.row; i++) {\n            if (result) {\n                result += '\\n';\n            } else {\n                result = '';\n            }\n            result += this.range.cropToRange(this.lines[i], i);\n        }\n\n        return result || '';\n    }\n}\n\nexport class SceneStoryBlock extends StoryBlock {\n    constructor(\n        lines: string[],\n        blockName: string,\n        range: StoryBlockRange) {\n            super(lines, blockName, range);\n    }\n\n    public getPropertyEnumerator(type?: string): ScenePropertyEnumerator {\n        return new ScenePropertyEnumerator(this.lines, this.range, type);\n    }\n}\n\nexport class ScenePropertyStoryBlock extends StoryBlock {\n    constructor(\n        lines: string[],\n        blockName: string,\n        range: StoryBlockRange) {\n            super(lines, blockName, range);\n    }\n}\n"]}